# -*- coding: utf-8 -*-
\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{multicol}
\begin{document}

% for family in stack:
\label{${family.xref()}}
\begin{multicols}{3}
* \\ 
Name: \\ 
Birth date: \\ 
Birth place: \\ 
Death date: \\ 
Death place: \\ 
\columnbreak

Husband \\ 
% if family.husband() != None:
${family.husband().surname()}, ${family.husband().given_name()}
% if family.husband().parent_family() != None:
$^{\pageref{${family.husband().parent_family().xref()}}}$ \\ 
% endif
 \\ 
% if family.husband().birth() != None:
${family.husband().birth().date} \\ 
${family.husband().birth().place} \\ 
% endif
% if family.husband().death() != None:
${family.husband().death().date} \\ 
${family.husband().death().place} \\ 
% endif
% endif
\columnbreak

Wife \\ 
% if family.wife() != None:
${family.wife().surname()}, ${family.wife().given_name()}
% if family.wife().parent_family() != None:
$^{\pageref{${family.wife().parent_family().xref()}}}$ \\ 
% endif
 \\ 
% if family.wife().birth() != None:
${family.wife().birth().date} \\ 
${family.wife().birth().place} \\ 
% endif
% if family.wife().death() != None:
${family.wife().death().date} \\ 
${family.wife().death().place} \\ 
% endif
% endif
\end{multicols}

% if family.married():
Married: ${family.marriage()}
% else:
Married: 
% endif

\begin{center}Children\end{center}
% for child in family.children():
\paragraph{}
${child.surname()}, ${child.given_name()}
   % for f in child.families():
$^{\pageref{${f.xref()}}}$ 
   % endfor
   % if ((child.birth() != None and child.birth().date != '') or (child.death() != None and child.death().date != '')):
(
      % if child.birth() != None and child.birth().date != '':
${child.birth().date}
      % else:
?
      % endif
      % if  child.birth() != None and child.death().date != '':
 - ${child.death().date}
      % endif
)
   % endif
   % if len(child.children()) > 0:
      % if len(child.children()) == 1:
1 child
      % else:
${len(child.children())} children
      % endif
   % endif
% endfor
\newpage
% endfor

\begin{multicols}{2}
% for individual in index:
   % if (individual.given_name() != '' or individual.surname() != '') and (individual.given_name() != None or individual.surname() != None): 
${individual.surname()}, ${individual.given_name()} \hfill ${', '.join(map(lambda x: '\pageref{' + x + '}', pages(individual))) | n} \\ 
   % endif
% endfor
\end{multicols}
\end{document}
